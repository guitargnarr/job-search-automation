# Job Search Automation Platform - Environment Configuration
# Version: 2.1.0
# Last Updated: October 5, 2025
# Copy this file to .env and fill in your actual values

# ═══════════════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# IMPORTANT: For SQLite (default), unset DATABASE_URL in your shell
# Add to ~/.zshrc or ~/.bashrc: unset DATABASE_URL
DATABASE_URL=sqlite+aiosqlite:///./job_search.db

# For PostgreSQL (not recommended - use SQLite):
# DATABASE_URL=postgresql+asyncpg://user:pass@localhost/dbname

# ═══════════════════════════════════════════════════════════════════════════════
# API CONFIGURATION (v2.1.0 additions)
# ═══════════════════════════════════════════════════════════════════════════════

# Pagination limits (prevents memory exhaustion)
MAX_API_PAGE_SIZE=100           # Hard limit per page
DEFAULT_API_PAGE_SIZE=50        # Default if not specified

# Server settings
APP_ENV=development
APP_DEBUG=true
APP_HOST=0.0.0.0
APP_PORT=8899                   # Current: 8899 (was 8000)
APP_WORKERS=1                   # IMPORTANT: Keep at 1 to avoid duplicate servers

# ═══════════════════════════════════════════════════════════════════════════════
# GMAIL API (Required for email automation)
# ═══════════════════════════════════════════════════════════════════════════════

GMAIL_CREDENTIALS_FILE=/path/to/gmail_credentials.json
GMAIL_TOKEN_FILE=/path/to/token.pickle
GMAIL_SCOPES=https://www.googleapis.com/auth/gmail.readonly,https://www.googleapis.com/auth/gmail.modify,https://www.googleapis.com/auth/gmail.labels

# Setup instructions:
# 1. Go to https://console.cloud.google.com/
# 2. Create project and enable Gmail API
# 3. Download credentials JSON
# 4. Run email setup: POST /api/v1/email/setup-gmail

# ═══════════════════════════════════════════════════════════════════════════════
# JOB SEARCH CONFIGURATION (v2.1.0)
# ═══════════════════════════════════════════════════════════════════════════════

# Target job titles (comma-separated)
JOB_SEARCH_KEYWORDS=business analyst,data analyst,healthcare analyst

# Location preferences
JOB_SEARCH_LOCATION=Louisville, KY
JOB_SEARCH_RADIUS=50

# IMPORTANT: Location rules
# - Louisville, KY: Accept onsite, hybrid, remote
# - Outside Louisville: Remote/WFH ONLY
# - This is enforced in search filters

# Company exclusions (comma-separated)
EXCLUDED_COMPANIES=Humana
# Add more: EXCLUDED_COMPANIES=Humana,Company2,Company3

# ═══════════════════════════════════════════════════════════════════════════════
# DEPRECATED FEATURES (DO NOT USE)
# ═══════════════════════════════════════════════════════════════════════════════

# LinkedIn Automation - DEPRECATED as of v2.1.0
# LINKEDIN_EMAIL=
# LINKEDIN_PASSWORD=
# LINKEDIN_HEADLESS=true

# OpenAI Integration - DEPRECATED as of v2.1.0
# OPENAI_API_KEY=
# OPENAI_MODEL=gpt-4

# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY
# ═══════════════════════════════════════════════════════════════════════════════

# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-in-production
JWT_SECRET_KEY=your-jwt-secret-here-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ═══════════════════════════════════════════════════════════════════════════════
# RATE LIMITING
# ═══════════════════════════════════════════════════════════════════════════════

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ═══════════════════════════════════════════════════════════════════════════════
# LOGGING
# ═══════════════════════════════════════════════════════════════════════════════

LOG_LEVEL=INFO                  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/job_automation.log
LOG_MAX_BYTES=10485760          # 10MB
LOG_BACKUP_COUNT=5

# ═══════════════════════════════════════════════════════════════════════════════
# EMAIL SETTINGS (for sending follow-ups)
# ═══════════════════════════════════════════════════════════════════════════════

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-gmail-app-password
SMTP_FROM=your-email@gmail.com

# Gmail app password instructions:
# 1. Enable 2FA on your Google account
# 2. Generate app password: https://myaccount.google.com/apppasswords
# 3. Use app password (not your regular password)

# ═══════════════════════════════════════════════════════════════════════════════
# AUTOMATION SETTINGS
# ═══════════════════════════════════════════════════════════════════════════════

# Follow-up timing (days after application)
AUTO_FOLLOW_UP_DAYS=7,14,21

# ATS optimization
ATS_MINIMUM_SCORE=70            # Minimum score to recommend application

# Email scanning interval
EMAIL_CHECK_INTERVAL_MINUTES=30

# Job aggregation interval
JOB_AGGREGATION_INTERVAL_HOURS=6

# Daily limits
MAX_APPLICATIONS_PER_DAY=10

# ═══════════════════════════════════════════════════════════════════════════════
# FEATURE FLAGS (v2.1.0)
# ═══════════════════════════════════════════════════════════════════════════════

ENABLE_EMAIL_SCANNING=true          # Gmail API scanning
ENABLE_LINKEDIN_AUTOMATION=false    # DEPRECATED: LinkedIn features disabled
ENABLE_ATS_OPTIMIZATION=true        # Resume keyword optimization
ENABLE_AUTO_FOLLOWUPS=true          # Automatic follow-up scheduling
ENABLE_WEB_SEARCH=true              # Job discovery via web search (NEW)

# ═══════════════════════════════════════════════════════════════════════════════
# PERFORMANCE TUNING
# ═══════════════════════════════════════════════════════════════════════════════

ASYNC_POOL_SIZE=20
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# ═══════════════════════════════════════════════════════════════════════════════
# FILE PATHS
# ═══════════════════════════════════════════════════════════════════════════════

APPLICATIONS_DIR=/Users/matthewscott/Desktop/Job_Search/applications
TEMPLATES_DIR=/Users/matthewscott/Desktop/Job_Search/documents
RESUME_STORAGE_PATH=./storage/resumes
COVER_LETTER_PATH=./storage/cover_letters
TEMP_PATH=./tmp

# ═══════════════════════════════════════════════════════════════════════════════
# TASK QUEUE (Optional - not currently used)
# ═══════════════════════════════════════════════════════════════════════════════

# Redis/Celery configuration (commented out - not in use)
# REDIS_URL=redis://localhost:6379
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ═══════════════════════════════════════════════════════════════════════════════
# MONITORING (Optional)
# ═══════════════════════════════════════════════════════════════════════════════

# Sentry error tracking (optional)
# SENTRY_DSN=

# Metrics collection (optional)
# ENABLE_METRICS=false

# ═══════════════════════════════════════════════════════════════════════════════
# SYSTEM NOTES (v2.1.0)
# ═══════════════════════════════════════════════════════════════════════════════

# Current Production Settings:
#   - Server: Port 8899 (single instance)
#   - Database: SQLite (76KB)
#   - Memory: 19MB (optimized)
#   - Real Jobs: 7 tracked
#   - Web Search: Enabled for job discovery
#
# Critical Settings:
#   - APP_WORKERS=1 (never increase - causes duplicate servers)
#   - MAX_API_PAGE_SIZE=100 (prevents memory exhaustion)
#   - ENABLE_LINKEDIN_AUTOMATION=false (deprecated feature)
#   - unset DATABASE_URL in shell (avoids PostgreSQL conflicts)
#
# Job Search Criteria:
#   - Remote-only for non-Louisville jobs
#   - Healthcare/insurance focus
#   - Exclude Humana
#   - Salary range: $59k-$182k (current portfolio)
